---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by heyqule.
--- DateTime: 5/3/2024 7:34 PM
--- Clear old data
---

for _, force in pairs(game.forces) do
    if global.army_built_deployers[force.index] then
        for index, _ in pairs(global.army_built_deployers[force.index]) do
            global.army_built_deployers[force.index][index].rally_point = nil
        end
    end

    if global.army_built_teleporters[force.index] then
        for index, _ in pairs(global.army_built_teleporters[force.index]) do
            global.army_built_teleporters[force.index][index].rally_point = nil
        end
    end
end

for _, player in pairs(game.players) do
    global.army_windows_tab_player_data[player.index] = nil
end


local new_cron = {}

for _, cron in pairs(global.quick_cron.objects) do
    local data = unpack(cron[2])
    local new_data = {}
    new_data = {
        data[1],
        data[2],
        data[3],
        {
            group_type = data[4],
            featured_group_id = data[5],
            is_elite_attack = data[6],
            target_force = data[7],
            surface = data[8],
            from_retry = data[9],
            bypass_attack_meter = data[10],
        }
    }
    if cron[1] ~= 'AttackGroupProcessor.generate_group' then
        table.insert(new_cron, cron)
    end
end

global.quick_cron.first = 1
global.quick_cron.last = #new_cron
global.quick_cron.objects = new_cron