---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by heyqule.
--- DateTime: 7/3/2021 10:21 PM
---

local ERM_WeaponRig = {}

function ERM_WeaponRig.get_custom_bullet(change_damage, damage_type)
    if damage_type == nil then
        damage_type = 'physical'
    end
    local ammo_type = table.deepcopy(data.raw['ammo']['piercing-rounds-magazine']['ammo_type'])
    ammo_type['action']['action_delivery']['target_effects'][2] = {
        type = "damage",
        damage = { amount = change_damage, type = damage_type}
    }
    return ammo_type
end

function ERM_WeaponRig.get_custom_shotgun_bullet(change_damage, damage_type)
    if damage_type == nil then
        damage_type = 'physical'
    end
    local ammo_type = table.deepcopy(data.raw['ammo']['piercing-shotgun-shell']['ammo_type'])
    ammo_type['action']['action_delivery']['target_effects'][2] = {
        type = "damage",
        damage = { amount = change_damage, type = damage_type}
    }
    return ammo_type
end

function ERM_WeaponRig.remove_damage_from_cannon_projectile(data, name)
    data['name'] = name
    data['piercing_damage'] = nil
    table.remove(data['action']['action_delivery']['target_effects'], 2)
    table.remove(data['action']['action_delivery']['target_effects'], 1)
    return data
end

function ERM_WeaponRig.remove_damage_from_explosive_cannon_projectile(data, name)
    data['name'] = name
    data['piercing_damage'] = nil
    table.remove(data['action']['action_delivery']['target_effects'], 1)
    table.remove(data['final_action']['action_delivery']['target_effects'], 2)
    return data
end

function ERM_WeaponRig.remove_damage_from_rocket(data, name)
    data['name'] = name
    table.remove(data['action']['action_delivery']['target_effects'], 2)
    return data
end



return ERM_WeaponRig