---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by heyqule.
--- DateTime: 2/15/2022 9:41 PM
---

require("__enemyracemanager__/global")

local GlobalConfig = require("__enemyracemanager__/lib/global_config")
local RaceSettingHelper = require("__enemyracemanager__/lib/helper/race_settings_helper")
local ForceHelper = require("__enemyracemanager__/lib/helper/force_helper")

local OnTriggerCreatedEntity = {}

local handlers = {
    asteroid = function(entity)
        local name_token = ForceHelper.get_name_token(entity.name)
        if name_token then
            entity.force = game.forces[name_token[1]]
            if entity.commandable then
                 entity.commandable.set_command({
                     type =  defines.command.go_to_location,
                     distraction = defines.distraction.by_anything,
                     destination = {0, 0},
                 })
            end
        end
    end
}

OnTriggerCreatedEntity.events = {
    [defines.events.on_trigger_created_entity] = function(event)
        local entity = event.entity
        local source = event.source
        if entity.valid and 
           source and handlers[source.type] 
        then
            handlers[source.type](entity)
        end
    end
}

return OnTriggerCreatedEntity